# ✅ **Commit Message 规范**

# Commit Message 规范（支持 Emoji）

为了提高代码可读性、历史记录质量，以及方便后续自动化工具（如 changelog 生成、版本控制）的使用，本项目采用 **带 Emoji 的 Commit Message 规范**。

本规范参考了 Conventional Commits，并做了工程化增强。

---

## 📌 Commit 格式

每一次提交 **必须** 使用以下格式：

```

<emoji><type>: <简要说明>

<可选：详细描述>

```

示例：

```

✨Feat: 新增粒子邻域搜索加速结构

加入基于Grid Hash的邻域搜索，提高了SPH模拟在高密度区域的性能。

```

---

## 🏷️ 提交类型与 Emoji 对照表

| 类型           | Emoji | 说明                        |
|--------------|-------|---------------------------|
| **Feat**     | ✨     | 新功能或新模块                   |
| **Fix**      | ⚒️    | Bug 修复                    |
| **Doc**      | 📖    | 文档变更                      |
| **Chore**    | 🧹    | 杂项任务、依赖升级、项目清理            |
| **Refactor** | 🔧    | 重构（无新增功能、无修复）             |
| **Style**    | 🎨    | 代码格式、美化、不影响逻辑             |
| **Perf**     | ⚡     | 性能优化                      |
| **Test**     | 🧪    | 添加或修改测试                   |
| **Build**    | 🏗️   | 构建系统相关（CMake、Gradle、npm等） |
| **CI**       | 🤖    | 持续集成相关（GitHub Actions 等）  |
| **Revert**   | ⏪     | 回滚提交                      |

---

## 🧭 提交时如何选择类型

简单规则：

- **新增功能 → Feat**
- **修 Bug → Fix**
- **重构结构 → Refactor**
- **优化性能 → Perf**
- **写文档 → Doc**
- **格式调整 → Style**
- **构建文件相关 → Build**
- **自动化流程 → CI**
- **琐碎任务 → Chore**
- **回滚 → Revert**

---

## 📝 Commit 示例

### 1. 功能新增

```

✨Feat: 实现 SPH 粒子压力求解模块

```

### 2. Bug 修复

```

⚒️Fix: 修复边界条件导致粒子穿模的问题

```

### 3. 重构代码结构

```

🔧Refactor: 将旧图元渲染拆分到独立文件夹，为 ECS 重构做准备

```

### 4. 性能优化

```

⚡Perf: 优化 GPU 粒子邻域搜索，提升至 80fps

```

### 5. 文档更新

```

📖Doc: 更新 README，加入 CUDA 编译说明

```

---

## 📐 Commit 编写建议

为了确保历史记录清晰，请遵循以下建议：

1. **标题不超过 72 字符**
2. 标题使用 **动词开头**（如：新增、修复、优化、重构…）
3. 需要时可在正文补充细节（原因 / 动机 / 效果）
4. 每个 commit 做一件事，遵循 **单一目的原则**

---

## 🧪 可选：PR 标题格式（如使用）

如果你使用 Pull Request，标题也推荐采用相同格式：

```

🔧Refactor: 分离旧渲染模块，为 ECS 做准备

```

---

## 📦 自动化（可选）

如果你未来要使用自动生成变更日志，可使用：

- `commitlint`
- `cz-git`
- `conventional-changelog`

本规范兼容上述工具。

---

## 🎯 目的

通过统一的 commit 规范，我们可以：

- 让项目历史更清晰
- 提高团队协作效率
- 方便定位问题和回溯变更
- 支持自动化版本与日志生成

建议所有贡献者严格遵守此规范。